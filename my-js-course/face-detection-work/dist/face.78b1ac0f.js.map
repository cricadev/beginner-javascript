{"mappings":"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","sources":["pixelated-face.js"],"sourcesContent":["const video = document.querySelector('.webcam');\nconst canvas = document.querySelector('.video');\nconst ctx = canvas.getContext('2d');\nconst faceCanvas = document.querySelector('.face');\nconst faceCtx = faceCanvas.getContext('2d');\nconst faceDetector = new window.FaceDetector();\nconst optionsInputs = document.querySelectorAll(\n    '.controls input[type=\"range\"]'\n);\n\nconst options = {\n    SIZE: 10,\n    SCALE: 1.35,\n};\n\nfunction handleOption(event) {\n    const { value, name } = event.currentTarget;\n    options[name] = parseFloat(value);\n}\noptionsInputs.forEach((input) => input.addEventListener('input', handleOption));\n\n// Write a fucntion that will populate the users video\nasync function populateVideo() {\n    const stream = await navigator.mediaDevices.getUserMedia({\n        video: { width: 1280, height: 720 },\n    });\n    video.srcObject = stream;\n    await video.play();\n    // size the canvases to be the same size as the video\n    console.log(video.videoWidth, video.videoHeight);\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    faceCanvas.width = video.videoWidth;\n    faceCanvas.height = video.videoHeight;\n}\n\nasync function detect() {\n    const faces = await faceDetector.detect(video);\n    // ask the browser when the next animation frame is, and tell it to run detect for us\n    faces.forEach(drawFace);\n    faces.forEach(censor);\n    requestAnimationFrame(detect);\n}\n\nfunction drawFace(face) {\n    const { width, height, top, left } = face.boundingBox;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.strokeStyle = '#ffc600';\n    ctx.lineWidth = 2;\n    ctx.strokeRect(left, top, width, height);\n}\n\nfunction censor({ boundingBox: face }) {\n    faceCtx.imageSmoothingEnabled = false;\n    faceCtx.clearRect(0, 0, faceCanvas.width, faceCanvas.height);\n    // draw the small face\n    faceCtx.drawImage(\n        // 5 source args\n        video, // where does the source come from?\n        face.x, // where do we start the source pull from?\n        face.y,\n        face.width,\n        face.height,\n        // 4 draw args\n        face.x, // where should we start drawing the x and y?\n        face.y,\n        options.SIZE,\n        options.SIZE\n    );\n    // draw the small face back on, but scale up\n\n    const width = face.width * options.SCALE;\n    const height = face.height * options.SCALE;\n    faceCtx.drawImage(\n        faceCanvas, // source\n        face.x, // where do we start the source pull from?\n        face.y,\n        options.SIZE,\n        options.SIZE,\n        // Drawing args\n        face.x - (width - face.width) / 2,\n        face.y - (height - face.height) / 2,\n        width,\n        height\n    );\n}\n\npopulateVideo().then(detect);"],"names":[],"version":3,"file":"face.78b1ac0f.js.map","sourceRoot":"/__parcel_source_root/"}