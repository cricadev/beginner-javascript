{"version":3,"sources":["gallery.js"],"names":["Gallery","gallery","Error","images","Array","from","querySelectorAll","console","log","modal","document","querySelector","prevButton","nextButton","currentImage","openModal","info","matches","classList","add","window","addEventListener","handleKeyUp","showNextImage","showPrevImage","closeModal","remove","removeEventListener","handleClickOutside","e","target","currentTarget","key","showImage","nextElementSibling","firstElementChild","previousElementSibling","lastElementChild","el","src","textContent","title","dataset","description","forEach","image","gallery1","gallery2"],"mappings":"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","file":"gallery.9a8aea70.js","sourceRoot":"..","sourcesContent":["function Gallery(gallery) {\r\n  if (!gallery) {\r\n    throw new Error('No gallery element provided');\r\n  }\r\n\r\n  // & SELECT THE ELEMENTS WE NEED\r\n\r\n  const images = Array.from(gallery.querySelectorAll('img'));\r\n  console.log(images);\r\n  const modal = document.querySelector('.modal');\r\n  const prevButton = document.querySelector('.prev');\r\n  const nextButton = document.querySelector('.next');\r\n  let currentImage;\r\n\r\n  function openModal() {\r\n    console.info('opening modal...');\r\n    // & first check if the modal is already open\r\n    if (modal.matches('.open')) {\r\n      console.info('modal already open');\r\n      return; // stop function from running\r\n    }\r\n    modal.classList.add('open');\r\n\r\n    // ! EVENT LISTENERS TO BE BOUND WHEN WE OPEN THE MODAL:\r\n    window.addEventListener('keyup', handleKeyUp);\r\n    nextButton.addEventListener('click', showNextImage);\r\n    prevButton.addEventListener('click', showPrevImage);\r\n  }\r\n\r\n  function closeModal() {\r\n    console.info('closing modal...');\r\n    modal.classList.remove('open');\r\n    // TODO: add event listeners for clicks and keyboard...\r\n    window.removeEventListener('keyup', handleKeyUp);\r\n    nextButton.removeEventListener('click', showNextImage);\r\n    prevButton.removeEventListener('click', showPrevImage);\r\n  }\r\n\r\n  function handleClickOutside(e) {\r\n    if (e.target === e.currentTarget) {\r\n      closeModal();\r\n    }\r\n  }\r\n\r\n  function handleKeyUp(e) {\r\n    if (e.key === 'Escape') closeModal();\r\n    if (e.key === 'ArrowRight') showNextImage();\r\n    if (e.key === 'ArrowLeft') showPrevImage();\r\n  }\r\n\r\n  function showNextImage(e) {\r\n    showImage(currentImage.nextElementSibling || gallery.firstElementChild);\r\n  }\r\n\r\n  function showPrevImage(e) {\r\n    showImage(currentImage.previousElementSibling || gallery.lastElementChild);\r\n  }\r\n\r\n  function showImage(el) {\r\n    if (!el) {\r\n      console.info('no image element provided');\r\n    }\r\n    // update the modal with this info\r\n    console.log(el);\r\n    modal.querySelector('img').src = el.src;\r\n    modal.querySelector('h2').textContent = el.title;\r\n    modal.querySelector('figure p').textContent = el.dataset.description;\r\n    currentImage = el;\r\n    openModal();\r\n  }\r\n\r\n  //! THESE ARE OUR EVENT LISTENERS!\r\n\r\n  images.forEach((image) =>\r\n    image.addEventListener('click', (e) => {\r\n      showImage(e.currentTarget);\r\n    })\r\n  );\r\n  images.forEach((image) =>\r\n    image.addEventListener('keyup', (e) => {\r\n      // & when that is key up'd check if it was enter\r\n      if (e.key === 'Enter') showImage(e.currentTarget);\r\n    })\r\n  );\r\n\r\n  modal.addEventListener('click', handleClickOutside);\r\n}\r\n\r\n// use it on the page\r\n\r\nconst gallery1 = Gallery(document.querySelector('.gallery1'));\r\nconst gallery2 = Gallery(document.querySelector('.gallery2'));\r\n\r\nconsole.log(gallery1, gallery2);\r\n"]}